use chrono::{DateTime, Local};
use rust_decimal::Decimal;
use serde::Deserialize;

#[derive(Deserialize)]
pub struct Listings {
    pub listings: Vec<Listing>,
}

impl IntoIterator for Listings {
    type Item = Listing;
    type IntoIter = <Vec<Listing> as IntoIterator>::IntoIter;

    fn into_iter(self) -> Self::IntoIter {
        self.listings.into_iter()
    }
}

#[derive(Debug, Deserialize)]
pub struct Listing {
    /// Marktplaats item ID, looks like `m2137081815`.
    #[serde(rename = "itemId")]
    #[allow(dead_code)]
    pub item_id: String,

    /// Advertisement title.
    pub title: String,

    /// Advertisement description body.
    pub description: String,

    #[serde(rename = "categorySpecificDescription", default)]
    pub category_specific_description: Option<String>,

    /// Most likely, the creation timestamp.
    #[serde(rename = "date")]
    pub timestamp: DateTime<Local>,

    /// Variable quality images.
    #[serde(default, rename = "pictures")]
    pub pictures: Vec<Picture>,

    /// Low-quality image URLs **without schema**.
    #[serde(default, rename = "imageUrls")]
    #[allow(dead_code)]
    pub image_urls: Vec<String>,

    #[serde(rename = "priceInfo")]
    pub price: Price,

    /// Advertisement URL path without schema and host.
    #[serde(rename = "vipUrl")]
    pub url_path: String,

    #[serde(rename = "sellerInformation")]
    pub seller: Seller,

    pub location: Location,

    #[serde(default)]
    pub attributes: Vec<Attribute>,
}

impl Listing {
    #[allow(dead_code)]
    pub fn https_url(&self) -> String {
        format!("https://www.marktplaats.nl{}", self.url_path)
    }

    #[allow(dead_code)]
    pub fn description(&self) -> &str {
        self.category_specific_description
            .as_deref()
            .unwrap_or(&self.description)
    }
}

#[derive(Debug, Deserialize)]
pub struct Seller {
    #[serde(rename = "sellerId")]
    pub id: u32,

    #[serde(rename = "sellerName")]
    pub name: String,
}

impl Listing {
    #[allow(dead_code)]
    pub fn image_urls(&self) -> impl Iterator<Item = &str> {
        self.pictures.iter().filter_map(|picture| {
            picture
                .extra_large_url
                .as_deref()
                .or(picture.large_url.as_deref())
                .or(picture.medium_url.as_deref())
        })
    }
}

#[derive(Deserialize, Debug, Eq, PartialEq)]
#[serde(tag = "priceType")]
pub enum Price {
    /// Fixed price, bids are not allowed.
    #[serde(rename = "FIXED")]
    Fixed {
        #[serde(rename = "priceCents")]
        asking: Cents,
    },

    #[serde(rename = "ON_REQUEST")]
    OnRequest,

    /// Bids are allowed. The minimal bidding price is not available in the listing.
    #[serde(rename = "MIN_BID")]
    MinBid {
        /// Asking price.
        #[serde(rename = "priceCents")]
        asking: Cents,
    },

    #[serde(rename = "SEE_DESCRIPTION")]
    SeeDescription,

    #[serde(rename = "NOTK")]
    ToBeAgreed,

    #[serde(rename = "RESERVED")]
    Reserved,

    /// No asking price, only bidding.
    #[serde(rename = "FAST_BID")]
    FastBid,

    #[serde(rename = "FREE")]
    Free,

    #[serde(rename = "EXCHANGE")]
    Exchange,
}

/// Price in euro-cents.
#[derive(Deserialize, Copy, Clone, Debug, Eq, PartialEq)]
pub struct Cents(pub u32);

#[derive(Copy, Clone, Debug, Eq, PartialEq)]
pub struct Euro(pub Decimal);

impl From<Cents> for Euro {
    fn from(cents: Cents) -> Self {
        Self(Decimal::from(cents.0) / Decimal::ONE_HUNDRED)
    }
}

#[derive(Deserialize, Debug)]
#[allow(clippy::struct_field_names)]
pub struct Picture {
    #[serde(rename = "extraExtraLargeUrl", default)]
    #[allow(dead_code)]
    pub extra_large_url: Option<String>,

    #[serde(rename = "largeUrl", default)]
    #[allow(dead_code)]
    pub large_url: Option<String>,

    #[serde(rename = "mediumUrl", default)]
    #[allow(dead_code)]
    pub medium_url: Option<String>,
}

impl Picture {
    pub fn any_url(&self) -> Option<&str> {
        self.extra_large_url
            .as_deref()
            .or(self.large_url.as_deref())
            .or(self.medium_url.as_deref())
    }
}

#[derive(Debug, Deserialize)]
pub struct Location {
    #[serde(rename = "cityName")]
    pub city_name: String,

    #[serde(default)]
    #[allow(dead_code)]
    pub latitude: Option<f64>,

    #[serde(default)]
    #[allow(dead_code)]
    pub longitude: Option<f64>,
}

#[derive(Debug, Deserialize)]
#[serde(tag = "key", content = "value")]
pub enum Attribute {
    #[serde(rename = "condition")]
    Condition(Condition),

    #[serde(rename = "delivery")]
    Delivery(Delivery),

    #[serde(untagged)]
    #[allow(dead_code)]
    Other(OtherAttribute),
}

#[derive(Debug, Deserialize)]
pub enum Condition {
    #[serde(rename = "Nieuw")]
    New,

    #[serde(rename = "Zo goed als nieuw")]
    AsGoodAsNew,

    #[serde(rename = "Gebruikt")]
    Used,

    #[serde(rename = "Niet werkend")]
    NotWorking,

    Refurbished,
}

#[derive(Debug, Deserialize)]
pub enum Delivery {
    #[serde(rename = "Ophalen")]
    CollectionOnly,

    #[serde(rename = "Verzenden")]
    ShippingOnly,

    #[serde(rename = "Ophalen of Verzenden")]
    CollectionOrShipping,
}

#[derive(Debug, Deserialize)]
#[allow(dead_code)]
pub struct OtherAttribute {
    pub key: String,
    pub value: String,
}

#[cfg(test)]
mod tests {
    use rust_decimal_macros::dec;

    use super::*;
    use crate::prelude::*;

    #[test]
    fn euro_from_cents_ok() {
        assert_eq!(Euro::from(Cents(1250)), Euro(dec!(12.5)));
    }

    #[test]
    fn parse_listings_m2153817200_ok() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2153817200","title":"Ubiquiti UniFi Cloud Gateway Ultra","description":"Gekocht op 25-07-2024 bij ubiquiti store. Compleet pakket met alle originele accessoires. Originele aankoopbon bijgevoegd (persoon","categorySpecificDescription":"Gekocht op 25-07-2024 bij ubiquiti store. Compleet pakket met alle originele accessoires. Originele aankoopbon bijgevoegd (persoonlijke gegevens afgeschermd). Inclusief 3d-geprinte wandmontagebeugel. Ik heb gemerkt dat ik eigenlijk een ucg max nodig ...","thinContent":false,"priceInfo":{"priceCents":0,"priceType":"RESERVED"},"location":{"cityName":"Vijfhuizen","countryName":"Nederland","countryAbbreviation":"NL","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":false,"abroad":false,"latitude":52.347199288561,"longitude":4.6799362500632},"date":"2024-09-02T22:08:20Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":23640587,"sellerName":"Pavel","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":334,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Zo goed als nieuw","values":["Zo goed als nieuw"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"extendedAttributes":[{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]},{"key":"condition","value":"Zo goed als nieuw","values":["Zo goed als nieuw"]},{"key":"type","value":"Router","values":["Router"]},{"key":"brand","value":"Ubiquiti","values":["Ubiquiti"]}],"traits":["PACKAGE_FREE"],"verticals":["modems_isdn_and_fax","barcode-supported","computers_and_software"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/ba/baaee2ea-28a9-42f6-b3bc-dd479d59bc67?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":4,"height":3}}],"searchType":"TokenMatch","vipUrl":"/v/computers-en-software/routers-en-modems/m2153817200-ubiquiti-unifi-cloud-gateway-ultra"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":322,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Computers en Software","key":"computers-en-software","parentId":null,"parentKey":false},{"id":334,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Routers en Modems","key":"routers-en-modems","parentId":322,"parentKey":"computers-en-software"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"19f6dbe1-ec6f-47ff-95d5-4650fa522cfe","originalQuery":"m2153817200","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2153817200","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2153817200","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2153817200 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2153817200 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2153817200</h1>."}}"#,
        )?;
        Ok(())
    }

    #[test]
    fn parse_listings_m2154565114_ok() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2154565114","title":"Lexar NM790 1TB M.2 NVMe SSD","description":"Lexar nm790 1tb m.2 Nvme ssd","categorySpecificDescription":"Lexar nm790 1tb m.2 Nvme ssd","thinContent":true,"priceInfo":{"priceCents":6500,"priceType":"FIXED"},"location":{"cityName":"Tilburg","countryName":"Nederland","countryAbbreviation":"NL","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":false,"abroad":false,"latitude":51.592085825659,"longitude":5.0813414153107},"date":"2024-09-04T19:30:21Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":45648069,"sellerName":"Karl","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":333,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Zo goed als nieuw","values":["Zo goed als nieuw"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"extendedAttributes":[{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]},{"key":"condition","value":"Zo goed als nieuw","values":["Zo goed als nieuw"]}],"traits":["PACKAGE_FREE"],"verticals":["hard_discs","barcode-supported","computers_and_software"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/c1/c1e61740-188b-4d54-8a45-de1db7b360e3?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":3,"height":4}}],"searchType":"TokenMatch","vipUrl":"/v/computers-en-software/harde-schijven/m2154565114-lexar-nm790-1tb-m-2-nvme-ssd"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":322,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Computers en Software","key":"computers-en-software","parentId":null,"parentKey":false},{"id":333,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Harde schijven","key":"harde-schijven","parentId":322,"parentKey":"computers-en-software"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"a2c91b59-782f-4d0a-8c7b-a533039717d5","originalQuery":"m2154565114","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2154565114","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2154565114","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2154565114 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2154565114 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2154565114</h1>."}}"#,
        )?;
        Ok(())
    }

    #[test]
    fn parse_listings_m2151010640_ok() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2151010640","title":"Ecosavers Energiemeter mini","description":"Nog nieuw in de doos.","categorySpecificDescription":"Nog nieuw in de doos.","thinContent":true,"priceInfo":{"priceCents":1000,"priceType":"FIXED"},"location":{"cityName":"Terheijden","countryName":"Nederland","countryAbbreviation":"NL","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":false,"abroad":false,"latitude":51.64230897976,"longitude":4.7511013019055},"date":"2024-08-26T09:18:12Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":15140994,"sellerName":"Inge","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":1866,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Nieuw","values":["Nieuw"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"extendedAttributes":[{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]},{"key":"condition","value":"Nieuw","values":["Nieuw"]},{"key":"type","value":"Detector, Sensor of Melder","values":["Detector, Sensor of Melder"]}],"traits":["PACKAGE_FREE"],"verticals":["diy_and_renovation","alarm_systems"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/52/52d568ab-5351-4e0f-8c33-b5c18368dbe4?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":771,"height":1024}}],"searchType":"TokenMatch","vipUrl":"/v/doe-het-zelf-en-verbouw/alarmsystemen/m2151010640-ecosavers-energiemeter-mini"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":239,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Doe-het-zelf en Verbouw","key":"doe-het-zelf-en-verbouw","parentId":null,"parentKey":false},{"id":1866,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Alarmsystemen","key":"alarmsystemen","parentId":239,"parentKey":"doe-het-zelf-en-verbouw"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"7ea42a8d-6da7-4ac2-8db5-f9e8f705bbfe","originalQuery":"m2151010640","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2151010640","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2151010640","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2151010640 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2151010640 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2151010640</h1>."}}"#,
        )?;
        Ok(())
    }

    #[test]
    fn parse_listings_m2154537900_ok() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2154537900","title":"Samsung M.2 NVMe PM9A1 / 980 Pro 512 GB PCI Express 4.0","description":"4 maanden oud, zit nog garantie op. Ik kwam erachter dat ik krap kwam te zitten en heb een 1t versie gekocht. Kost nieuw 82 , nu 4","categorySpecificDescription":"4 maanden oud, zit nog garantie op. Ik kwam erachter dat ik krap kwam te zitten en heb een 1t versie gekocht. Kost nieuw 82 , nu 49.","thinContent":true,"priceInfo":{"priceCents":4900,"priceType":"FIXED"},"location":{"cityName":"Hillegom","countryName":"Nederland","countryAbbreviation":"NL","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":false,"abroad":false,"latitude":52.317361652456,"longitude":4.5904527022129},"date":"2024-09-04T18:06:15Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":15716811,"sellerName":"Reinier","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":333,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Zo goed als nieuw","values":["Zo goed als nieuw"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"extendedAttributes":[{"key":"kind","value":"Intern","values":["Intern"]},{"key":"size","value":"512GB","values":["512GB"]},{"key":"type","value":"SSD","values":["SSD"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"traits":["PACKAGE_FREE"],"verticals":["hard_discs","barcode-supported","computers_and_software"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/75/75844b7f-8832-4d14-926f-ab51f81cd51e?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":3,"height":4}}],"searchType":"TokenMatch","vipUrl":"/v/computers-en-software/harde-schijven/m2154537900-samsung-m-2-nvme-pm9a1-980-pro-512-gb-pci-express-4-0"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":322,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Computers en Software","key":"computers-en-software","parentId":null,"parentKey":false},{"id":333,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Harde schijven","key":"harde-schijven","parentId":322,"parentKey":"computers-en-software"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"821ec399-de59-4316-a08f-3f6601d16014","originalQuery":"m2154537900","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2154537900","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2154537900","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2154537900 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2154537900 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2154537900</h1>."}}"#,
        )?;
        Ok(())
    }

    #[test]
    fn parse_listings_m2154590489_ok() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2154590489","title":"Samsung 970 Evo Plus 2TB - NIEUW","description":"Ongebruikte ssd van samsung nvme m.2 Ssd in perfecte staat nieuw vraagprijs : 100euro bij vragen stuur gerust een dm","categorySpecificDescription":"Ongebruikte ssd van samsung nvme m.2 Ssd in perfecte staat nieuw vraagprijs : 100euro bij vragen stuur gerust een dm","thinContent":true,"priceInfo":{"priceCents":10000,"priceType":"MIN_BID"},"location":{"cityName":"Leeuwarden","countryName":"Nederland","countryAbbreviation":"NL","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":false,"abroad":false,"latitude":53.198312460262,"longitude":5.7882206803396},"date":"2024-09-04T21:37:30Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":52108168,"sellerName":"Tom Dries","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":333,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Nieuw","values":["Nieuw"]},{"key":"delivery","value":"Verzenden","values":["Verzenden"]}],"extendedAttributes":[{"key":"kind","value":"Intern","values":["Intern"]},{"key":"delivery","value":"Verzenden","values":["Verzenden"]},{"key":"condition","value":"Nieuw","values":["Nieuw"]},{"key":"brand","value":"Sansung","values":["Sansung"]}],"traits":["PACKAGE_FREE"],"verticals":["hard_discs","barcode-supported","computers_and_software"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/26/26a0f66e-3349-4a5b-8dc4-7dc10602f256?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":9,"height":16}}],"searchType":"TokenMatch","vipUrl":"/v/computers-en-software/harde-schijven/m2154590489-samsung-970-evo-plus-2tb-nieuw"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":322,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Computers en Software","key":"computers-en-software","parentId":null,"parentKey":false},{"id":333,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Harde schijven","key":"harde-schijven","parentId":322,"parentKey":"computers-en-software"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":0,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"af81e96c-e98d-4ea4-aa68-d90a2bb576fa","originalQuery":"m2154590489","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2154590489","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2154590489","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2154590489 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2154590489 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2154590489</h1>."}}"#,
        )?;
        Ok(())
    }

    #[test]
    fn parse_listings_m2153223840() -> Result {
        serde_json::from_str::<Listings>(
            // language=json
            r#"{"listings":[{"itemId":"m2153223840","title":"Nikon FA Body","description":"Nikon fa body i'm selling my nikon fa due to a clean up of my film camera collection. About the camera: about the camera: - in","categorySpecificDescription":"Nikon fa body i'm selling my nikon fa due to a clean up of my film camera collection. About the camera: about the camera: - in great cosmetic shape, with very feel scuffs around the chassis - electronics are ok (view finder battery test shows up)...","thinContent":false,"priceInfo":{"priceCents":10000,"priceType":"MIN_BID"},"location":{"cityName":"Antwerpen","countryName":"België","countryAbbreviation":"BE","distanceMeters":-1000,"isBuyerLocation":false,"onCountryLevel":true,"abroad":true,"latitude":0,"longitude":0},"date":"2024-09-01T12:38:36Z","imageUrls":["//images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_82.jpg"],"sellerInformation":{"sellerId":45392057,"sellerName":"Paulo A.","showSoiUrl":true,"showWebsiteUrl":false,"isVerified":false},"categoryId":480,"priorityProduct":"NONE","videoOnVip":false,"urgencyFeatureActive":false,"napAvailable":false,"attributes":[{"key":"condition","value":"Niet werkend","values":["Niet werkend"]},{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]}],"extendedAttributes":[{"key":"delivery","value":"Ophalen of Verzenden","values":["Ophalen of Verzenden"]},{"key":"condition","value":"Niet werkend","values":["Niet werkend"]},{"key":"type","value":"Spiegelreflex","values":["Spiegelreflex"]},{"key":"brand","value":"Nikon","values":["Nikon"]}],"traits":["PACKAGE_FREE"],"verticals":["barcode-supported","audio_tv_photo","photography_camera_analogue"],"pictures":[{"id":0,"mediaId":"","url":"https://images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_#.jpg","extraSmallUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_14.jpg","mediumUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_82.jpg","largeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_83.jpg","extraExtraLargeUrl":"https://images.marktplaats.com/api/v1/listing-mp-p/images/7e/7e1a1f56-7fd6-4af6-8fb1-862179b7c050?rule=ecg_mp_eps$_85.jpg","aspectRatio":{"width":512,"height":289}}],"searchType":"TokenMatch","vipUrl":"/v/audio-tv-en-foto/fotocamera-s-analoog/m2153223840-nikon-fa-body"}],"topBlock":[],"facets":[{"key":"PriceCents","type":"AttributeRangeFacet"},{"key":"RelevantCategories","type":"CategoryTreeFacet","categories":[{"id":31,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Audio, Tv en Foto","key":"audio-tv-en-foto","parentId":null,"parentKey":false},{"id":480,"histogramCount":1,"selected":false,"isValuableForSeo":true,"dominant":false,"label":"Fotocamera's Analoog","key":"fotocamera-s-analoog","parentId":31,"parentKey":"audio-tv-en-foto"}]},{"id":2947,"key":"buyitnow","type":"AttributeGroupFacet","label":"Direct Kopen","attributeGroup":[{"attributeValueKey":"Direct Kopen","attributeValueId":14055,"attributeValueLabel":"Direct Kopen","selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":1627,"key":"condition","type":"AttributeGroupFacet","label":"Conditie","attributeGroup":[{"attributeValueKey":"Nieuw","attributeValueId":30,"attributeValueLabel":"Nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Refurbished","attributeValueId":14050,"attributeValueLabel":"Refurbished","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Zo goed als nieuw","attributeValueId":31,"attributeValueLabel":"Zo goed als nieuw","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Gebruikt","attributeValueId":32,"attributeValueLabel":"Gebruikt","selected":false,"isValuableForSeo":false},{"attributeValueKey":"Niet werkend","attributeValueId":13940,"attributeValueLabel":"Niet werkend","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":8,"key":"delivery","type":"AttributeGroupFacet","label":"Levering","attributeGroup":[{"attributeValueKey":"Ophalen","attributeValueId":33,"attributeValueLabel":"Ophalen","histogramCount":1,"selected":false,"isValuableForSeo":false},{"attributeValueKey":"Verzenden","attributeValueId":34,"attributeValueLabel":"Verzenden","histogramCount":1,"selected":false,"isValuableForSeo":false}],"singleSelect":false,"categoryId":0},{"id":987654321,"key":"offeredSince","type":"AttributeGroupFacet","label":"Aangeboden sinds","attributeGroup":[{"attributeValueKey":"Vandaag","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Gisteren","selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Een week","histogramCount":1,"selected":false,"isValuableForSeo":false,"default":false},{"attributeValueKey":"Altijd","histogramCount":1,"selected":true,"isValuableForSeo":false,"default":true}],"singleSelect":true,"categoryId":0}],"totalResultCount":1,"maxAllowedPageNumber":2,"correlationId":"bc83ac0b-0dc1-4624-8441-1867b0a56818","originalQuery":"m2153223840","sortOptions":[{"sortBy":"OPTIMIZED","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"DECREASING"},{"sortBy":"SORT_INDEX","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"INCREASING"},{"sortBy":"PRICE","sortOrder":"DECREASING"}],"isSearchSaved":false,"hasErrors":false,"alternativeLocales":[],"searchRequest":{"originalRequest":{"categories":{},"searchQuery":"m2153223840","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"categories":{},"searchQuery":"m2153223840","attributes":{},"attributesById":[],"attributesByKey":[],"attributeRanges":[],"attributeLabels":[],"sortOptions":{"sortBy":"SORT_INDEX","sortOrder":"DECREASING","sortAttribute":""},"pagination":{"offset":0,"limit":1},"distance":{"postcode":""},"viewOptions":{"kind":"list-view"},"searchInTitleAndDescription":true,"bypassSpellingSuggestion":false},"searchCategory":0,"searchCategoryOptions":[{"fullName":"Antiek en Kunst","id":1,"key":"antiek-en-kunst","name":"Antiek en Kunst"},{"fullName":"Audio, Tv en Foto","id":31,"key":"audio-tv-en-foto","name":"Audio, Tv en Foto"},{"fullName":"Auto's","id":91,"key":"auto-s","name":"Auto's"},{"fullName":"Auto-onderdelen","id":2600,"key":"auto-onderdelen","name":"Auto-onderdelen"},{"fullName":"Auto diversen","id":48,"key":"auto-diversen","name":"Auto diversen"},{"fullName":"Boeken","id":201,"key":"boeken","name":"Boeken"},{"fullName":"Caravans en Kamperen","id":289,"key":"caravans-en-kamperen","name":"Caravans en Kamperen"},{"fullName":"Cd's en Dvd's","id":1744,"key":"cd-s-en-dvd-s","name":"Cd's en Dvd's"},{"fullName":"Computers en Software","id":322,"key":"computers-en-software","name":"Computers en Software"},{"fullName":"Contacten en Berichten","id":378,"key":"contacten-en-berichten","name":"Contacten en Berichten"},{"fullName":"Diensten en Vakmensen","id":1098,"key":"diensten-en-vakmensen","name":"Diensten en Vakmensen"},{"fullName":"Dieren en Toebehoren","id":395,"key":"dieren-en-toebehoren","name":"Dieren en Toebehoren"},{"fullName":"Doe-het-zelf en Verbouw","id":239,"key":"doe-het-zelf-en-verbouw","name":"Doe-het-zelf en Verbouw"},{"fullName":"Fietsen en Brommers","id":445,"key":"fietsen-en-brommers","name":"Fietsen en Brommers"},{"fullName":"Hobby en Vrije tijd","id":1099,"key":"hobby-en-vrije-tijd","name":"Hobby en Vrije tijd"},{"fullName":"Huis en Inrichting","id":504,"key":"huis-en-inrichting","name":"Huis en Inrichting"},{"fullName":"Huizen en Kamers","id":1032,"key":"huizen-en-kamers","name":"Huizen en Kamers"},{"fullName":"Kinderen en Baby's","id":565,"key":"kinderen-en-baby-s","name":"Kinderen en Baby's"},{"fullName":"Kleding | Dames","id":621,"key":"kleding-dames","name":"Kleding | Dames"},{"fullName":"Kleding | Heren","id":1776,"key":"kleding-heren","name":"Kleding | Heren"},{"fullName":"Motoren","id":678,"key":"motoren","name":"Motoren"},{"fullName":"Muziek en Instrumenten","id":728,"key":"muziek-en-instrumenten","name":"Muziek en Instrumenten"},{"fullName":"Postzegels en Munten","id":1784,"key":"postzegels-en-munten","name":"Postzegels en Munten"},{"fullName":"Sieraden, Tassen en Uiterlijk","id":1826,"key":"sieraden-tassen-en-uiterlijk","name":"Sieraden en Tassen"},{"fullName":"Spelcomputers en Games","id":356,"key":"spelcomputers-en-games","name":"Spelcomputers, Games"},{"fullName":"Sport en Fitness","id":784,"key":"sport-en-fitness","name":"Sport en Fitness"},{"fullName":"Telecommunicatie","id":820,"key":"telecommunicatie","name":"Telecommunicatie"},{"fullName":"Tickets en Kaartjes","id":1984,"key":"tickets-en-kaartjes","name":"Tickets en Kaartjes"},{"fullName":"Tuin en Terras","id":1847,"key":"tuin-en-terras","name":"Tuin en Terras"},{"fullName":"Vacatures","id":167,"key":"vacatures","name":"Vacatures"},{"fullName":"Vakantie","id":856,"key":"vakantie","name":"Vakantie"},{"fullName":"Verzamelen","id":895,"key":"verzamelen","name":"Verzamelen"},{"fullName":"Watersport en Boten","id":976,"key":"watersport-en-boten","name":"Watersport en Boten"},{"fullName":"Witgoed en Apparatuur","id":537,"key":"witgoed-en-apparatuur","name":"Witgoed en Apparatuur"},{"fullName":"Zakelijke goederen","id":1085,"key":"zakelijke-goederen","name":"Zakelijke goederen"},{"fullName":"Diversen","id":428,"key":"diversen","name":"Diversen"}],"seoFriendlyAttributes":[],"seoFriendlyTextAttributes":{},"attributeHierarchy":{"offeredSince":[{"attributeValueId":null,"attributeValueLabel":null,"attributeValueKey":"Altijd","attributeLabel":"Aangeboden sinds","isDefault":true}]},"categoriesById":{},"metaTags":{"metaTitle":"≥ Vind m2153223840 op Marktplaats - september 2024","metaDescription":"1 aanbiedingen in september - Koop en verkoop m2153223840 eenvoudig op Marktplaats ✅ Lokale aanbiedingen - Ga ervoor!","pageTitleH1":"<span>Je hebt gezocht op </span><h1>m2153223840</h1>."}}"#,
        )?;
        Ok(())
    }
}
